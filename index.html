<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ã‰valuation des talents - GAM</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    :root {
      --primary-color: #f89c27;
      --primary-light: #fff1e0;
      --secondary-color: #000000;
      --secondary-light: #f2f2f2;
      --tertiary-color: #f89c27;
      --tertiary-light: #fff8ee;
      --neutral-light: #f8f9fa;
      --neutral-medium: #e9ecef;
      --neutral-dark: #121212;
      --border-radius: 8px;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', 'Roboto', sans-serif;
      color: var(--neutral-dark);
      background-color: #f5f7fa;
      line-height: 1.6;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    header {
      background-color: white;
      box-shadow: var(--shadow);
      padding: 20px;
      margin-bottom: 30px;
      border-radius: var(--border-radius);
    }
    
    h1, h2, h3 {
      font-weight: 600;
      line-height: 1.3;
    }
    
    h1 {
      font-size: 28px;
      margin-bottom: 10px;
      color: var(--secondary-color);
      border-bottom: 3px solid var(--primary-color);
      padding-bottom: 10px;
      display: inline-block;
    }
    
    h2 {
      font-size: 22px;
      margin-bottom: 15px;
      padding-bottom: 10px;
      color: var(--secondary-color);
    }
    
    h3 {
      font-size: 18px;
      margin-bottom: 15px;
    }
    
    .employee-info {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 30px;
    }
    
    .form-group {
      flex: 1 0 300px;
    }
    
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }
    
    input, select {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ced4da;
      border-radius: var(--border-radius);
      font-size: 16px;
      transition: var(--transition);
    }
    
    input:focus, select:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(0, 86, 179, 0.25);
    }
    
    .section {
      background-color: white;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      margin-bottom: 30px;
      overflow: hidden;
    }
    
    .section-header {
      padding: 15px 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .veut-section .section-header {
      background-color: var(--primary-light);
      border-left: 4px solid var(--primary-color);
    }
    
    .peut-section .section-header {
      background-color: var(--secondary-light);
      border-left: 4px solid var(--secondary-color);
    }
    
    .capable-section .section-header {
      background-color: var(--tertiary-light);
      border-left: 4px solid var(--tertiary-color);
    }
    
    .section-content {
      padding: 20px;
    }
    
    .criteria-block {
      background-color: var(--neutral-light);
      border-radius: var(--border-radius);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .criteria-name {
      background-color: var(--neutral-medium);
      padding: 12px 15px;
      font-weight: 600;
      font-size: 16px;
      border-left: 3px solid var(--primary-color);
    }
    
    .levels-container {
      padding: 15px;
    }
    
    .level-option {
      display: flex;
      align-items: flex-start;
      padding: 12px;
      border-radius: var(--border-radius);
      margin-bottom: 8px;
      transition: var(--transition);
    }
    
    .level-option:hover {
      background-color: #f0f0f0;
    }
    
    .level-option input[type="radio"] {
      width: auto;
      margin-right: 10px;
      margin-top: 3px;
    }
    
    .level-number {
      font-weight: 600;
      display: inline-block;
      margin-right: 8px;
      min-width: 70px;
    }
    
    .buttons-container {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 30px 0;
    }
    
    .btn {
      padding: 12px 24px;
      border-radius: var(--border-radius);
      border: none;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      min-width: 150px;
    }
    
    .btn-primary {
      background-color: var(--primary-color);
      color: white;
      font-weight: 500;
    }
    
    .btn-primary:hover {
      background-color: #e58b16;
    }
    
    .btn-outline {
      background-color: transparent;
      border: 2px solid var(--secondary-color);
      color: var(--secondary-color);
      font-weight: 500;
    }
    
    .btn-outline:hover {
      background-color: var(--secondary-light);
    }
    
    #results {
      display: none;
      background-color: white;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      margin-top: 30px;
      overflow: hidden;
      padding-bottom: 30px;
    }
    
    .results-header {
      background-color: var(--secondary-color);
      color: white;
      padding: 20px;
      margin-bottom: 20px;
      border-bottom: 4px solid var(--primary-color);
    }
    
    .results-content {
      padding: 0 20px;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 25px;
    }
    
    th {
      background-color: var(--secondary-color);
      color: white;
      padding: 12px;
      text-align: left;
      font-weight: 600;
    }
    
    td {
      padding: 12px;
      border-bottom: 1px solid #dee2e6;
    }
    
    .score-badge {
      display: inline-block;
      padding: 5px 10px;
      border-radius: 15px;
      font-weight: 600;
      text-align: center;
      min-width: 50px;
    }
    
    .score-high {
      background-color: var(--primary-color);
      color: white;
    }
    
    .score-medium {
      background-color: rgba(248, 156, 39, 0.7);
      color: white;
    }
    
    .score-low {
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
    }
    
    .chart-container {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      margin: 30px 0;
    }
    
    .quadrant {
      position: relative;
      width: 400px;
      height: 400px;
      border: 1px solid #dee2e6;
      border-radius: var(--border-radius);
      background-color: white;
      box-shadow: var(--shadow);
    }
    
    .axis-h, .axis-v {
      position: absolute;
      background-color: #adb5bd;
    }
    
    .axis-h {
      top: 50%;
      left: 0;
      right: 0;
      height: 1px;
    }
    
    .axis-v {
      left: 50%;
      top: 0;
      bottom: 0;
      width: 1px;
    }
    
    .quadrant-label {
      position: absolute;
      font-size: 14px;
      font-weight: 500;
      color: #6c757d;
    }
    
    .label-top { top: 15px; left: 50%; transform: translateX(-50%); }
    .label-bottom { bottom: 15px; left: 50%; transform: translateX(-50%); }
    .label-left { left: 15px; top: 50%; transform: translateY(-50%) rotate(-90deg); }
    .label-right { right: 15px; top: 50%; transform: translateY(-50%) rotate(90deg); }
    
    .quadrant-area {
      position: absolute;
      width: 50%;
      height: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 500;
      color: rgba(0, 0, 0, 0.5);
      font-size: 14px;
    }
    
    .q1 { top: 0; right: 0; background-color: rgba(248, 156, 39, 0.2); }
    .q2 { top: 0; left: 0; background-color: rgba(248, 156, 39, 0.1); }
    .q3 { bottom: 0; left: 0; background-color: rgba(0, 0, 0, 0.1); }
    .q4 { bottom: 0; right: 0; background-color: rgba(248, 156, 39, 0.15); }
    
    .position-marker {
      position: absolute;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background-color: var(--primary-color);
      transform: translate(-50%, -50%);
      z-index: 10;
      box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.7), 0 0 10px rgba(0,0,0,0.3);
      transition: var(--transition);
    }
    
    .summary-metrics {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .metric-card {
      flex: 1 0 200px;
      background-color: white;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      padding: 20px;
      text-align: center;
    }
    
    .metric-title {
      font-size: 14px;
      color: #6c757d;
      margin-bottom: 10px;
    }
    
    .metric-value {
      font-size: 28px;
      font-weight: 700;
      color: var(--primary-color);
      text-shadow: 1px 1px 1px rgba(0,0,0,0.1);
    }
    
    .metric-subtitle {
      font-size: 14px;
      margin-top: 5px;
    }
    
    .recommendations {
      background-color: var(--primary-light);
      border-left: 4px solid var(--primary-color);
      padding: 20px;
      border-radius: 0 var(--border-radius) var(--border-radius) 0;
      margin: 30px 0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .recommendation-title {
      font-weight: 600;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .actions-section {
      margin-top: 40px;
    }
    
    .action-item {
      display: flex;
      margin-bottom: 15px;
      background-color: var(--neutral-light);
      border-radius: var(--border-radius);
      overflow: hidden;
    }
    
    .action-icon {
      background-color: var(--neutral-medium);
      padding: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 50px;
    }
    
    .action-content {
      padding: 15px;
      flex-grow: 1;
    }
    
    .action-title {
      font-weight: 600;
      margin-bottom: 5px;
    }
    
    footer {
      text-align: center;
      margin-top: 50px;
      padding: 20px;
      color: #6c757d;
      font-size: 14px;
    }
    
    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }
      
      .quadrant {
        width: 100%;
        height: 300px;
      }
      
      .buttons-container {
        flex-direction: column;
      }
      
      .btn {
        width: 100%;
      }
    }
    
    /* Animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .fade-in {
      animation: fadeIn 0.4s ease forwards;
    }
    
    /* Print styles */
    @media print {
      body {
        background-color: white;
        padding: 0;
        margin: 0;
      }
      
      .container {
        max-width: 100%;
        padding: 0;
        margin: 0;
      }
      
      header, .section, #results {
        box-shadow: none;
        margin-bottom: 20px;
      }
      
      .buttons-container, #evaluation-form, #print-button, #export-button {
        display: none !important;
      }
      
      .section-header {
        break-inside: avoid;
      }
      
      body:not(.print-pdf-mode) #evaluation-form {
        display: block !important;
      }
      
      body.print-pdf-mode #evaluation-form {
        display: none !important;
      }
      
      #results {
        display: block !important;
        margin: 0;
        padding: 0;
      }
      
      .results-header {
        break-after: avoid;
      }
      
      /* Assurez-vous que tout est visible et bien formatÃ© */
      table, tr, td, th {
        page-break-inside: avoid;
      }
      
      .chart-container {
        page-break-before: always;
      }
      
      footer {
        position: fixed;
        bottom: 0;
        width: 100%;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Ã‰valuation des talents - GAM</h1>
      <p>SystÃ¨me de gestion et d'Ã©valuation des performances et du potentiel</p>
    </header>
    
    <form id="evaluation-form">
      <div class="employee-info">
        <div class="form-group">
          <label for="employee-name">Nom de l'employÃ©</label>
          <input type="text" id="employee-name" value="Jean Dupont" required>
        </div>
        
        <div class="form-group">
          <label for="employee-position">Poste</label>
          <input type="text" id="employee-position" value="DÃ©veloppeur Senior">
        </div>
        
        <div class="form-group">
          <label for="employee-department">DÃ©partement</label>
          <select id="employee-department">
            <option value="technology">Technologie</option>
            <option value="marketing">Marketing</option>
            <option value="sales">Ventes</option>
            <option value="finance">Finance</option>
            <option value="hr">Ressources Humaines</option>
            <option value="operations">OpÃ©rations</option>
            <option value="customer-service">Service Client</option>
            <option value="r-and-d">R&D</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="employee-level">Niveau</label>
          <select id="employee-level">
            <option value="junior">Junior</option>
            <option value="intermediate">IntermÃ©diaire</option>
            <option value="senior" selected>Senior</option>
            <option value="lead">Lead</option>
            <option value="manager">Manager</option>
            <option value="director">Directeur</option>
            <option value="executive">ExÃ©cutif</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="evaluation-date">Date d'Ã©valuation</label>
          <input type="date" id="evaluation-date" value="">
        </div>
        
        <div class="form-group">
          <label for="previous-evaluation">Ã‰valuation prÃ©cÃ©dente</label>
          <select id="previous-evaluation">
            <option value="none">Aucune Ã©valuation prÃ©cÃ©dente</option>
            <option value="available">Ã‰valuation disponible (15/08/2024)</option>
          </select>
        </div>
      </div>
      
      <!-- SECTION VEUT -->
      <div class="section veut-section">
        <div class="section-header">
          <h2>Veut (Alignement avec les valeurs)</h2>
        </div>
        
        <div class="section-content">
          <div class="criteria-block">
            <div class="criteria-name">AUDACE : Dans quelle mesure cet employÃ© relÃ¨ve-t-il les dÃ©fis avec enthousiasme ?</div>
            <div class="levels-container">
              <div class="level-option">
                <input type="radio" name="audace" id="audace-1" value="1">
                <label for="audace-1">
                  <span class="level-number">Niveau 1:</span> Ã‰vite systÃ©matiquement les dÃ©fis et les situations nouvelles
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="audace" id="audace-3" value="3">
                <label for="audace-3">
                  <span class="level-number">Niveau 3:</span> Accepte les dÃ©fis quand on les lui prÃ©sente mais sans enthousiasme
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="audace" id="audace-5" value="5" checked>
                <label for="audace-5">
                  <span class="level-number">Niveau 5:</span> RelÃ¨ve volontairement les dÃ©fis habituels
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="audace" id="audace-7" value="7">
                <label for="audace-7">
                  <span class="level-number">Niveau 7:</span> Recherche activement des dÃ©fis pour se tester
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="audace" id="audace-10" value="10">
                <label for="audace-10">
                  <span class="level-number">Niveau 10:</span> CrÃ©e des opportunitÃ©s de dÃ©fi et inspire les autres Ã  en faire autant
                </label>
              </div>
            </div>
          </div>
          
          <div class="criteria-block">
            <div class="criteria-name">RIGUEUR : Ã€ quel point cet employÃ© s'assure-t-il de bien faire les choses du premier coup ?</div>
            <div class="levels-container">
              <div class="level-option">
                <input type="radio" name="rigueur" id="rigueur-1" value="1">
                <label for="rigueur-1">
                  <span class="level-number">Niveau 1:</span> Commet rÃ©guliÃ¨rement des erreurs Ã©vitables et ne vÃ©rifie pas son travail
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="rigueur" id="rigueur-3" value="3">
                <label for="rigueur-3">
                  <span class="level-number">Niveau 3:</span> Corrige ses erreurs uniquement lorsqu'elles sont signalÃ©es
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="rigueur" id="rigueur-5" value="5" checked>
                <label for="rigueur-5">
                  <span class="level-number">Niveau 5:</span> VÃ©rifie systÃ©matiquement son travail avant de le soumettre
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="rigueur" id="rigueur-7" value="7">
                <label for="rigueur-7">
                  <span class="level-number">Niveau 7:</span> Applique des mÃ©thodes structurÃ©es pour garantir la qualitÃ© de son travail
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="rigueur" id="rigueur-10" value="10">
                <label for="rigueur-10">
                  <span class="level-number">Niveau 10:</span> DÃ©veloppe des systÃ¨mes d'amÃ©lioration continue et les partage avec l'Ã©quipe
                </label>
              </div>
            </div>
          </div>
          
          <div class="criteria-block">
            <div class="criteria-name">IMPACT : Comment cet employÃ© contribue-t-il Ã  crÃ©er un impact positif dans son travail ?</div>
            <div class="levels-container">
              <div class="level-option">
                <input type="radio" name="impact" id="impact-1" value="1">
                <label for="impact-1">
                  <span class="level-number">Niveau 1:</span> Travaille sans considÃ©ration de l'impact de ses actions
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="impact" id="impact-3" value="3">
                <label for="impact-3">
                  <span class="level-number">Niveau 3:</span> ConsidÃ¨re occasionnellement l'impact de son travail
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="impact" id="impact-5" value="5" checked>
                <label for="impact-5">
                  <span class="level-number">Niveau 5:</span> Cherche rÃ©guliÃ¨rement Ã  crÃ©er un impact positif dans ses projets
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="impact" id="impact-7" value="7">
                <label for="impact-7">
                  <span class="level-number">Niveau 7:</span> Priorise systÃ©matiquement les actions Ã  fort impact positif
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="impact" id="impact-10" value="10">
                <label for="impact-10">
                  <span class="level-number">Niveau 10:</span> Transforme son environnement de travail par l'impact exceptionnel de ses contributions
                </label>
              </div>
            </div>
          </div>
          
          <div class="criteria-block">
            <div class="criteria-name">EXCELLENCE ET INNOVATION : Dans quelle mesure cet employÃ© cherche-t-il Ã  s'amÃ©liorer et Ã  innover quotidiennement ?</div>
            <div class="levels-container">
              <div class="level-option">
                <input type="radio" name="innovation" id="innovation-1" value="1">
                <label for="innovation-1">
                  <span class="level-number">Niveau 1:</span> RÃ©siste au changement et aux nouvelles mÃ©thodes de travail
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="innovation" id="innovation-3" value="3">
                <label for="innovation-3">
                  <span class="level-number">Niveau 3:</span> Adopte les innovations proposÃ©es sans chercher activement Ã  s'amÃ©liorer
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="innovation" id="innovation-5" value="5" checked>
                <label for="innovation-5">
                  <span class="level-number">Niveau 5:</span> S'efforce rÃ©guliÃ¨rement d'amÃ©liorer ses compÃ©tences et mÃ©thodes de travail
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="innovation" id="innovation-7" value="7">
                <label for="innovation-7">
                  <span class="level-number">Niveau 7:</span> Propose activement des solutions innovantes aux problÃ¨mes rencontrÃ©s
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="innovation" id="innovation-10" value="10">
                <label for="innovation-10">
                  <span class="level-number">Niveau 10:</span> Cultive une culture d'excellence et d'innovation permanente dans son Ã©quipe
                </label>
              </div>
            </div>
          </div>
          
          <div class="criteria-block">
            <div class="criteria-name">COHÃ‰SION : Comment cet employÃ© contribue-t-il au respect et Ã  la confiance au sein de l'Ã©quipe ?</div>
            <div class="levels-container">
              <div class="level-option">
                <input type="radio" name="cohesion" id="cohesion-1" value="1">
                <label for="cohesion-1">
                  <span class="level-number">Niveau 1:</span> CrÃ©e des tensions et mine la confiance au sein de l'Ã©quipe
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="cohesion" id="cohesion-3" value="3">
                <label for="cohesion-3">
                  <span class="level-number">Niveau 3:</span> Interagit de faÃ§on neutre sans impact particulier sur la cohÃ©sion
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="cohesion" id="cohesion-5" value="5" checked>
                <label for="cohesion-5">
                  <span class="level-number">Niveau 5:</span> Contribue positivement Ã  l'ambiance et aux relations dans l'Ã©quipe
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="cohesion" id="cohesion-7" value="7">
                <label for="cohesion-7">
                  <span class="level-number">Niveau 7:</span> Favorise activement le respect mutuel et rÃ©sout les tensions
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="cohesion" id="cohesion-10" value="10">
                <label for="cohesion-10">
                  <span class="level-number">Niveau 10:</span> Catalyse une confiance exceptionnelle et une cohÃ©sion remarquable dans l'organisation
                </label>
              </div>
            </div>
          </div>
          
          <div class="criteria-block">
            <div class="criteria-name">EMPATHIE : Ã€ quel point cet employÃ© fait-il preuve d'empathie envers les clients et ses collÃ¨gues ?</div>
            <div class="levels-container">
              <div class="level-option">
                <input type="radio" name="empathie" id="empathie-1" value="1">
                <label for="empathie-1">
                  <span class="level-number">Niveau 1:</span> NÃ©glige les besoins et perspectives des autres
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="empathie" id="empathie-3" value="3">
                <label for="empathie-3">
                  <span class="level-number">Niveau 3:</span> ReconnaÃ®t les besoins des autres quand ils sont explicitement exprimÃ©s
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="empathie" id="empathie-5" value="5" checked>
                <label for="empathie-5">
                  <span class="level-number">Niveau 5:</span> Fait preuve de comprÃ©hension envers les clients et collÃ¨gues
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="empathie" id="empathie-7" value="7">
                <label for="empathie-7">
                  <span class="level-number">Niveau 7:</span> Anticipe les besoins et adapte son approche en consÃ©quence
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="empathie" id="empathie-10" value="10">
                <label for="empathie-10">
                  <span class="level-number">Niveau 10:</span> CrÃ©e des relations profondes basÃ©es sur une comprÃ©hension exceptionnelle des autres
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- SECTION PEUT -->
      <div class="section peut-section">
        <div class="section-header">
          <h2>Peut (Performance actuelle)</h2>
        </div>
        
        <div class="section-content">
          <div class="criteria-block">
            <div class="criteria-name">QualitÃ© du travail</div>
            <div class="levels-container">
              <div class="level-option">
                <input type="radio" name="qualite" id="qualite-1" value="1">
                <label for="qualite-1">
                  <span class="level-number">Niveau 1:</span> Travail de qualitÃ© insuffisante nÃ©cessitant des corrections majeures
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="qualite" id="qualite-3" value="3">
                <label for="qualite-3">
                  <span class="level-number">Niveau 3:</span> Travail acceptable mais nÃ©cessitant des amÃ©liorations
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="qualite" id="qualite-5" value="5" checked>
                <label for="qualite-5">
                  <span class="level-number">Niveau 5:</span> Travail de bonne qualitÃ© rÃ©pondant aux standards attendus
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="qualite" id="qualite-7" value="7">
                <label for="qualite-7">
                  <span class="level-number">Niveau 7:</span> Travail de haute qualitÃ© dÃ©passant rÃ©guliÃ¨rement les attentes
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="qualite" id="qualite-10" value="10">
                <label for="qualite-10">
                  <span class="level-number">Niveau 10:</span> Travail exemplaire Ã©tablissant de nouvelles normes d'excellence
                </label>
              </div>
            </div>
          </div>
          
          <div class="criteria-block">
            <div class="criteria-name">Atteinte des objectifs</div>
            <div class="levels-container">
              <div class="level-option">
                <input type="radio" name="objectifs" id="objectifs-1" value="1">
                <label for="objectifs-1">
                  <span class="level-number">Niveau 1:</span> N'atteint pas la plupart des objectifs fixÃ©s
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="objectifs" id="objectifs-3" value="3">
                <label for="objectifs-3">
                  <span class="level-number">Niveau 3:</span> Atteint partiellement les objectifs mais manque de constance
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="objectifs" id="objectifs-5" value="5" checked>
                <label for="objectifs-5">
                  <span class="level-number">Niveau 5:</span> Atteint rÃ©guliÃ¨rement les objectifs fixÃ©s
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="objectifs" id="objectifs-7" value="7">
                <label for="objectifs-7">
                  <span class="level-number">Niveau 7:</span> DÃ©passe souvent les objectifs fixÃ©s
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="objectifs" id="objectifs-10" value="10">
                <label for="objectifs-10">
                  <span class="level-number">Niveau 10:</span> Surpasse systÃ©matiquement les objectifs et se fixe des dÃ©fis supplÃ©mentaires
                </label>
              </div>
            </div>
          </div>
          
          <div class="criteria-block">
            <div class="criteria-name">RÃ©solution de problÃ¨mes</div>
            <div class="levels-container">
              <div class="level-option">
                <input type="radio" name="problemes" id="problemes-1" value="1">
                <label for="problemes-1">
                  <span class="level-number">Niveau 1:</span> Ã‰vite de traiter les problÃ¨mes ou les dÃ©lÃ¨gue systÃ©matiquement
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="problemes" id="problemes-3" value="3">
                <label for="problemes-3">
                  <span class="level-number">Niveau 3:</span> RÃ©sout des problÃ¨mes simples mais a besoin d'aide pour les situations complexes
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="problemes" id="problemes-5" value="5" checked>
                <label for="problemes-5">
                  <span class="level-number">Niveau 5:</span> Analyse mÃ©thodiquement les problÃ¨mes et trouve des solutions appropriÃ©es
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="problemes" id="problemes-7" value="7">
                <label for="problemes-7">
                  <span class="level-number">Niveau 7:</span> DÃ©veloppe des approches innovantes pour rÃ©soudre des problÃ¨mes complexes
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="problemes" id="problemes-10" value="10">
                <label for="problemes-10">
                  <span class="level-number">Niveau 10:</span> Anticipe les problÃ¨mes potentiels et dÃ©veloppe des solutions prÃ©ventives
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- SECTION CAPABLE -->
      <div class="section capable-section">
        <div class="section-header">
          <h2>Capable (Potentiel de croissance)</h2>
        </div>
        
        <div class="section-content">
          <div class="criteria-block">
            <div class="criteria-name">CapacitÃ© d'apprentissage et d'adaptation</div>
            <div class="levels-container">
              <div class="level-option">
                <input type="radio" name="adaptation" id="adaptation-1" value="1">
                <label for="adaptation-1">
                  <span class="level-number">Niveau 1:</span> RÃ©siste au changement et Ã  l'acquisition de nouvelles compÃ©tences
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="adaptation" id="adaptation-3" value="3">
                <label for="adaptation-3">
                  <span class="level-number">Niveau 3:</span> Apprend lentement et s'adapte avec difficultÃ© aux nouvelles situations
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="adaptation" id="adaptation-5" value="5" checked>
                <label for="adaptation-5">
                  <span class="level-number">Niveau 5:</span> Apprend et s'adapte Ã  un rythme satisfaisant
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="adaptation" id="adaptation-7" value="7">
                <label for="adaptation-7">
                  <span class="level-number">Niveau 7:</span> Apprend rapidement et s'adapte efficacement aux situations changeantes
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="adaptation" id="adaptation-10" value="10">
                <label for="adaptation-10">
                  <span class="level-number">Niveau 10:</span> DÃ©montre une capacitÃ© exceptionnelle Ã  acquÃ©rir de nouvelles compÃ©tences et Ã  s'adapter
                </label>
              </div>
            </div>
          </div>
          
          <div class="criteria-block">
            <div class="criteria-name">Potentiel de leadership</div>
            <div class="levels-container">
              <div class="level-option">
                <input type="radio" name="leadership" id="leadership-1" value="1">
                <label for="leadership-1">
                  <span class="level-number">Niveau 1:</span> Ne montre aucune qualitÃ© de leadership et prÃ©fÃ¨re suivre les autres
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="leadership" id="leadership-3" value="3">
                <label for="leadership-3">
                  <span class="level-number">Niveau 3:</span> Montre occasionnellement des qualitÃ©s de leadership dans des situations limitÃ©es
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="leadership" id="leadership-5" value="5" checked>
                <label for="leadership-5">
                  <span class="level-number">Niveau 5:</span> A le potentiel pour diriger des projets ou des petites Ã©quipes
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="leadership" id="leadership-7" value="7">
                <label for="leadership-7">
                  <span class="level-number">Niveau 7:</span> Inspire naturellement les autres et influence positivement l'Ã©quipe
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="leadership" id="leadership-10" value="10">
                <label for="leadership-10">
                  <span class="level-number">Niveau 10:</span> DÃ©montre un potentiel de leadership exceptionnel qui transforme l'organisation
                </label>
              </div>
            </div>
          </div>
          
          <div class="criteria-block">
            <div class="criteria-name">Vision stratÃ©gique</div>
            <div class="levels-container">
              <div class="level-option">
                <input type="radio" name="vision" id="vision-1" value="1">
                <label for="vision-1">
                  <span class="level-number">Niveau 1:</span> Se concentre uniquement sur les tÃ¢ches immÃ©diates sans vision d'ensemble
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="vision" id="vision-3" value="3">
                <label for="vision-3">
                  <span class="level-number">Niveau 3:</span> Comprend les objectifs Ã  court terme mais manque de perspective Ã  long terme
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="vision" id="vision-5" value="5" checked>
                <label for="vision-5">
                  <span class="level-number">Niveau 5:</span> Ã‰tablit des liens entre son travail et les objectifs plus larges de l'entreprise
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="vision" id="vision-7" value="7">
                <label for="vision-7">
                  <span class="level-number">Niveau 7:</span> Propose des idÃ©es qui contribuent significativement Ã  la stratÃ©gie de l'entreprise
                </label>
              </div>
              <div class="level-option">
                <input type="radio" name="vision" id="vision-10" value="10">
                <label for="vision-10">
                  <span class="level-number">Niveau 10:</span> PossÃ¨de une vision stratÃ©gique exceptionnelle qui ouvre de nouvelles opportunitÃ©s
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
    
    <div class="buttons-container">
      <button type="button" id="reset-button" class="btn btn-outline">
        RÃ©initialiser
      </button>
      <button type="button" id="evaluate-button" class="btn btn-primary">
        Ã‰valuer
      </button>
    </div>
    
    <div id="results">
      <div class="results-header">
        <h2>RÃ©sultats d'Ã©valuation</h2>
        <p id="employee-info-result">Jean Dupont â€¢ DÃ©veloppeur Senior â€¢ 25 fÃ©vrier 2025</p>
      </div>
      
      <div class="results-content">
        <div class="summary-metrics">
          <div class="metric-card">
            <div class="metric-title">Score global</div>
            <div class="metric-value">B+</div>
            <div class="metric-subtitle">Talent prometteur</div>
          </div>
          <div class="metric-card">
            <div class="metric-title">Veut</div>
            <div class="metric-value" id="veut-avg">5.0</div>
            <div class="metric-subtitle" id="veut-interpretation">Alignement moyen avec les valeurs</div>
          </div>
          <div class="metric-card">
            <div class="metric-title">Peut</div>
            <div class="metric-value" id="peut-avg">5.0</div>
            <div class="metric-subtitle" id="peut-interpretation">Performance acceptable</div>
          </div>
          <div class="metric-card">
            <div class="metric-title">Capable</div>
            <div class="metric-value" id="capable-avg">5.0</div>
            <div class="metric-subtitle" id="capable-interpretation">Potentiel de croissance moyen</div>
          </div>
        </div>
        
      <div class="dashboard-card wide">
        <h2>RÃ©sultat & Calibration</h2>
        
        <div class="summary-metrics">
          <div class="metric-card">
            <div class="metric-title">Classification</div>
            <div class="metric-value" id="player-type">B+</div>
            <div class="metric-subtitle" id="classification-description">Talent prometteur</div>
          </div>
          <div class="metric-card">
            <div class="metric-title">VEUT</div>
            <div class="metric-value" id="veut-avg">5.0</div>
            <div class="metric-subtitle" id="veut-interpretation">Alignement moyen avec les valeurs</div>
          </div>
          <div class="metric-card">
            <div class="metric-title">PEUT</div>
            <div class="metric-value" id="peut-avg">5.0</div>
            <div class="metric-subtitle" id="peut-interpretation">Performance acceptable</div>
          </div>
          <div class="metric-card">
            <div class="metric-title">CAPABLE</div>
            <div class="metric-value" id="capable-avg">5.0</div>
            <div class="metric-subtitle" id="capable-interpretation">Potentiel de croissance moyen</div>
          </div>
          <div class="metric-card">
            <div class="metric-title">Score Composite</div>
            <div class="metric-value" id="composite-score">5.0</div>
            <div class="metric-subtitle">Score pondÃ©rÃ© par rÃ´le</div>
          </div>
        </div>
        
        <div id="calibration-section" style="margin-top: 20px; background-color: #f8f9fa; padding: 15px; border-radius: 8px;">
          <h3 style="margin-top: 0;">Calibration comparative</h3>
          <div style="display: flex; gap: 20px; margin-top: 15px;">
            <div style="flex: 1;">
              <p><strong>Rang percentile dans le dÃ©partement:</strong> <span id="dept-percentile">68<sup>Ã¨me</sup></span></p>
              <p><strong>Rang percentile global:</strong> <span id="global-percentile">54<sup>Ã¨me</sup></span></p>
              <p><strong>Comparaison au niveau hiÃ©rarchique:</strong> <span id="level-comparison">LÃ©gÃ¨rement au-dessus de la moyenne des Seniors</span></p>
            </div>
            <div style="flex: 1;">
              <div style="height: 120px; position: relative; background-color: white; border: 1px solid #ddd; border-radius: 4px;">
                <div style="position: absolute; top: 50%; left: 0; right: 0; height: 2px; background-color: #ddd;"></div>
                <div style="position: absolute; left: 10%; top: 0; bottom: 0; width: 2px; background-color: #ddd;"></div>
                <div style="position: absolute; left: 30%; top: 0; bottom: 0; width: 2px; background-color: #ddd;"></div>
                <div style="position: absolute; left: 70%; top: 0; bottom: 0; width: 2px; background-color: #ddd;"></div>
                <div style="position: absolute; left: 90%; top: 0; bottom: 0; width: 2px; background-color: #ddd;"></div>
                
                <div style="position: absolute; left: 10%; bottom: 5px; transform: translateX(-50%); font-size: 10px;">10%</div>
                <div style="position: absolute; left: 30%; bottom: 5px; transform: translateX(-50%); font-size: 10px;">30%</div>
                <div style="position: absolute; left: 70%; bottom: 5px; transform: translateX(-50%); font-size: 10px;">70%</div>
                <div style="position: absolute; left: 90%; bottom: 5px; transform: translateX(-50%); font-size: 10px;">90%</div>
                
                <div id="calibration-marker" style="position: absolute; left: 68%; top: 50%; transform: translate(-50%, -50%); width: 16px; height: 16px; background-color: var(--primary-color); border-radius: 50%;"></div>
                
                <div style="position: absolute; left: 0; top: 5px; font-size: 10px; padding-left: 5px;">Moins performant</div>
                <div style="position: absolute; right: 0; top: 5px; font-size: 10px; padding-right: 5px;">Plus performant</div>
                
                <div style="position: absolute; right: 5px; bottom: 50%; transform: translateY(50%); font-size: 10px;">Moyenne</div>
              </div>
            </div>
          </div>
          
          <div style="margin-top: 15px; font-size: 12px; color: #666;">
            <p>Note: La calibration comparative situe cette Ã©valuation par rapport aux autres Ã©valuations similaires pour assurer l'Ã©quitÃ© et la cohÃ©rence.</p>
          </div>
        </div>
        
        <table style="margin-top: 20px;">
          <thead>
            <tr>
              <th style="width: 25%;">Dimension</th>
              <th style="width: 15%;">Score</th>
              <th>Ã‰valuation dÃ©taillÃ©e</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Veut (Alignement)</strong></td>
              <td><span id="veut-badge" class="score-badge score-medium">5.0</span></td>
              <td id="veut-details">Alignement moyen avec les valeurs de l'entreprise. DÃ©montre une bonne volontÃ© mais pourrait davantage s'approprier les valeurs fondamentales.</td>
            </tr>
            <tr>
              <td><strong>Peut (Performance)</strong></td>
              <td><span id="peut-badge" class="score-badge score-medium">5.0</span></td>
              <td id="peut-details">Performance satisfaisante, atteint rÃ©guliÃ¨rement les objectifs fixÃ©s et produit un travail de qualitÃ© qui rÃ©pond aux standards attendus.</td>
            </tr>
            <tr>
              <td><strong>Capable (Potentiel)</strong></td>
              <td><span id="capable-badge" class="score-badge score-medium">5.0</span></td>
              <td id="capable-details">Montre un potentiel de croissance intÃ©ressant avec une capacitÃ© d'apprentissage satisfaisante et une vision stratÃ©gique en dÃ©veloppement.</td>
            </tr>
          </tbody>
        </table>
        
        <div class="chart-container">
          <div class="quadrant">
            <div class="axis-h"></div>
            <div class="axis-v"></div>
            <div class="quadrant-label label-top">Potentiel Ã©levÃ©</div>
            <div class="quadrant-label label-bottom">Potentiel faible</div>
            <div class="quadrant-label label-left">Performance faible</div>
            <div class="quadrant-label label-right">Performance Ã©levÃ©e</div>
            
            <div class="quadrant-area q1">Stars</div>
            <div class="quadrant-area q2">Potentiels</div>
            <div class="quadrant-area q3">ProblÃ©matiques</div>
            <div class="quadrant-area q4">Piliers</div>
            
            <div id="position-marker" class="position-marker" style="left: 50%; top: 50%"></div>
          </div>
          
          <div>
            <h3>Classification des talents:</h3>
            <ul style="list-style-type: none; padding-left: 0;">
              <li style="margin-bottom: 10px;">
                <strong style="color: var(--primary-color); font-size: 18px;">A+</strong>: Talent exceptionnel (performance et potentiel excellents)
              </li>
              <li style="margin-bottom: 10px;">
                <strong style="color: var(--primary-color);">A</strong>: Talent de grande valeur (excellente performance)
              </li>
              <li style="margin-bottom: 10px;">
                <strong style="color: var(--primary-color);">B+</strong>: Talent prometteur (bon Ã©quilibre potentiel/performance)
              </li>
              <li style="margin-bottom: 10px;">
                <strong style="color: var(--primary-color);">B</strong>: Talent solide (performance satisfaisante)
              </li>
              <li style="margin-bottom: 10px;">
                <strong style="color: var(--secondary-color);">C</strong>: Talent Ã  accompagner (performance insuffisante)
              </li>
              <li style="margin-bottom: 10px;">
                <strong style="color: var(--secondary-color);">D</strong>: DÃ©salignement important (misfit avec les valeurs)
              </li>
            </ul>
          </div>
        </div>
        
        <div class="recommendations">
          <div class="recommendation-title">
            Recommandation pour <span id="employee-name-rec">Jean Dupont</span> (CatÃ©gorie <span id="player-type-rec">B+</span>):
          </div>
          <p id="recommendation-text">
            Bon potentiel Ã  accompagner. Mettre en place un plan de dÃ©veloppement ciblÃ© pour amÃ©liorer la performance et l'alignement avec les valeurs de l'entreprise.
          </p>
        </div>
        
        <div class="actions-section">
          <h3>Plan d'action recommandÃ©</h3>
          
          <div id="action-items-container">
            <div class="action-item">
              <div class="action-icon">
              </div>
              <div class="action-content">
                <div class="action-title">Formation sur les compÃ©tences techniques</div>
                <div class="action-description">Proposer des formations pour renforcer les compÃ©tences spÃ©cifiques au poste.</div>
              </div>
            </div>
            
            <div class="action-item">
              <div class="action-icon">
              </div>
              <div class="action-content">
                <div class="action-title">Clarification des objectifs</div>
                <div class="action-description">Ã‰tablir des objectifs SMART et organiser des points d'Ã©tapes rÃ©guliers.</div>
              </div>
            </div>
            
            <div class="action-item">
              <div class="action-icon">
              </div>
              <div class="action-content">
                <div class="action-title">Mentorat</div>
                <div class="action-description">Assigner un mentor pour favoriser l'intÃ©gration des valeurs et amÃ©liorer la performance.</div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="buttons-container">
          <button type="button" id="print-button" class="btn btn-outline">
            Imprimer
          </button>
          <button type="button" id="export-button" class="btn btn-primary">
            Exporter en PDF
          </button>
          <button type="button" id="save-database-button" class="btn btn-primary" style="background-color: #28a745;">
            Enregistrer dans la base de donnÃ©es
          </button>
        </div>
      </div>
    </div>
    
    <footer>
      <p>Â© 2025 GAM â€¢ SystÃ¨me d'Ã‰valuation des Talents â€¢ Tous droits rÃ©servÃ©s</p>
    </footer>
  </div>

  <script>
    // Set current date as default
    document.addEventListener('DOMContentLoaded', function() {
      const today = new Date();
      const formattedDate = today.toISOString().split('T')[0];
      document.getElementById('evaluation-date').value = formattedDate;
    });
    
    // Reset form
    document.getElementById('reset-button').addEventListener('click', function() {
      if (confirm("ÃŠtes-vous sÃ»r de vouloir rÃ©initialiser le formulaire ? Toutes les donnÃ©es seront perdues.")) {
        document.getElementById('evaluation-form').reset();
        document.getElementById('results').style.display = 'none';
      }
    });
    
    // Print functionality
    document.getElementById('print-button').addEventListener('click', function() {
      window.print();
    });
    
    // Fonction pour enregistrer les donnÃ©es dans la base de donnÃ©es
    document.getElementById('save-database-button').addEventListener('click', function() {
      // DÃ©sactiver le bouton pendant le traitement
      this.disabled = true;
      this.textContent = 'Enregistrement en cours...';
      
      // Collecter toutes les donnÃ©es d'Ã©valuation
      const evaluationData = {
        employee: {
          name: document.getElementById('employee-name').value,
          position: document.getElementById('employee-position').value,
          evaluationDate: document.getElementById('evaluation-date').value
        },
        scores: {
          veut: {
            average: parseFloat(document.getElementById('veut-avg').textContent),
            audace: getSelectedValue('audace'),
            rigueur: getSelectedValue('rigueur'),
            impact: getSelectedValue('impact'),
            innovation: getSelectedValue('innovation'),
            cohesion: getSelectedValue('cohesion'),
            empathie: getSelectedValue('empathie')
          },
          peut: {
            average: parseFloat(document.getElementById('peut-avg').textContent),
            qualite: getSelectedValue('qualite'),
            objectifs: getSelectedValue('objectifs'),
            problemes: getSelectedValue('problemes')
          },
          capable: {
            average: parseFloat(document.getElementById('capable-avg').textContent),
            adaptation: getSelectedValue('adaptation'),
            leadership: getSelectedValue('leadership'),
            vision: getSelectedValue('vision')
          }
        },
        classification: document.getElementById('player-type-rec').textContent,
        timestamp: new Date().toISOString()
      };
      
      // Simulation de l'envoi Ã  une API (dans un vrai scÃ©nario, ceci serait remplacÃ© par un appel Ã  votre API)
      simulateApiCall(evaluationData)
        .then(response => {
          // RÃ©activer le bouton
          this.disabled = false;
          this.textContent = 'Enregistrer dans la base de donnÃ©es';
          
          // Afficher un message de succÃ¨s
          showNotification('SuccÃ¨s', 'Les donnÃ©es ont Ã©tÃ© enregistrÃ©es avec succÃ¨s dans la base de donnÃ©es', 'success');
          
          // Stocker l'ID de l'Ã©valuation (fourni par le backend) pour rÃ©fÃ©rence future
          localStorage.setItem('lastEvaluationId', response.id);
          
          // Afficher un lien vers le dashboard
          showDashboardLink();
        })
        .catch(error => {
          // RÃ©activer le bouton
          this.disabled = false;
          this.textContent = 'Enregistrer dans la base de donnÃ©es';
          
          // Afficher un message d'erreur
          showNotification('Erreur', 'Une erreur est survenue lors de l\'enregistrement des donnÃ©es. Veuillez rÃ©essayer.', 'error');
          
          console.error('Erreur lors de l\'enregistrement:', error);
        });
    });
    
    // Fonction de simulation d'API (Ã  remplacer par un vrai appel API)
    function simulateApiCall(data) {
      return new Promise((resolve, reject) => {
        // Simuler un dÃ©lai rÃ©seau de 1.5 secondes
        setTimeout(() => {
          // Simuler une rÃ©ponse rÃ©ussie 90% du temps
          if (Math.random() < 0.9) {
            resolve({
              success: true,
              id: 'eval_' + Math.floor(Math.random() * 1000000),
              message: 'DonnÃ©es enregistrÃ©es avec succÃ¨s'
            });
          } else {
            // Simuler une erreur 10% du temps
            reject({
              success: false,
              error: 'Erreur de connexion au serveur'
            });
          }
        }, 1500);
      });
    }
    
    // Fonction pour afficher une notification
    function showNotification(title, message, type) {
      // CrÃ©er l'Ã©lÃ©ment de notification
      const notification = document.createElement('div');
      
      // DÃ©finir le style en fonction du type
      const backgroundColor = type === 'success' ? '#d4edda' : '#f8d7da';
      const textColor = type === 'success' ? '#155724' : '#721c24';
      const borderColor = type === 'success' ? '#c3e6cb' : '#f5c6cb';
      const icon = type === 'success' ? 'âœ“' : 'âœ—';
      
      // Appliquer les styles
      notification.style.position = 'fixed';
      notification.style.top = '20px';
      notification.style.right = '20px';
      notification.style.backgroundColor = backgroundColor;
      notification.style.color = textColor;
      notification.style.padding = '15px 20px';
      notification.style.borderRadius = '5px';
      notification.style.boxShadow = '0 4px 8px rgba(0,0,0,0.1)';
      notification.style.zIndex = '9999';
      notification.style.minWidth = '300px';
      notification.style.border = `1px solid ${borderColor}`;
      
      // DÃ©finir le contenu
      notification.innerHTML = `
        <div style="display: flex; align-items: flex-start;">
          <div style="background-color: ${textColor}; color: white; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; border-radius: 50%; margin-right: 10px;">
            ${icon}
          </div>
          <div>
            <div style="font-weight: bold; margin-bottom: 5px;">${title}</div>
            <div>${message}</div>
          </div>
          <div style="margin-left: auto; cursor: pointer; font-weight: bold;" onclick="this.parentNode.parentNode.remove()">Ã—</div>
        </div>
      `;
      
      // Ajouter au document
      document.body.appendChild(notification);
      
      // Supprimer aprÃ¨s 5 secondes
      setTimeout(() => {
        if (document.body.contains(notification)) {
          document.body.removeChild(notification);
        }
      }, 5000);
    }
    
    // Fonction pour afficher un lien vers le dashboard
    function showDashboardLink() {
      // VÃ©rifier si le lien existe dÃ©jÃ 
      if (document.getElementById('dashboard-link')) {
        return;
      }
      
      // CrÃ©er l'Ã©lÃ©ment de lien
      const dashboardLink = document.createElement('div');
      dashboardLink.id = 'dashboard-link';
      
      // Appliquer les styles
      dashboardLink.style.marginTop = '20px';
      dashboardLink.style.padding = '15px';
      dashboardLink.style.backgroundColor = '#e8f4fd';
      dashboardLink.style.border = '1px solid #b8daff';
      dashboardLink.style.borderRadius = '5px';
      dashboardLink.style.color = '#004085';
      
      // DÃ©finir le contenu
      dashboardLink.innerHTML = `
        <div style="display: flex; align-items: center; justify-content: space-between;">
          <div>
            <strong>DonnÃ©es enregistrÃ©es avec succÃ¨s!</strong>
            <p>Vous pouvez maintenant accÃ©der au dashboard pour visualiser toutes les Ã©valuations.</p>
          </div>
          <a href="dashboard.html" target="_blank" style="background-color: #007bff; color: white; padding: 8px 15px; border-radius: 4px; text-decoration: none;">
            Voir le Dashboard
          </a>
        </div>
      `;
      
      // Ajouter au document
      document.getElementById('results').appendChild(dashboardLink);
    }
    
    // Calculer la moyenne et mettre Ã  jour les composantes du systÃ¨me
    function evaluateEmployee() {
      // Fonction pour obtenir la valeur sÃ©lectionnÃ©e d'un groupe de boutons radio
      function getSelectedValue(name) {
        const radios = document.getElementsByName(name);
        for (let i = 0; i < radios.length; i++) {
          if (radios[i].checked) {
            return parseInt(radios[i].value);
          }
        }
        return 0;
      }
      
      // Calculer les moyennes pour chaque dimension
      // Veut section
      const audaceScore = getSelectedValue('audace');
      const rigueurScore = getSelectedValue('rigueur');
      const impactScore = getSelectedValue('impact');
      const innovationScore = getSelectedValue('innovation');
      const cohesionScore = getSelectedValue('cohesion');
      const empathieScore = getSelectedValue('empathie');
      const veutAvg = (audaceScore + rigueurScore + impactScore + innovationScore + cohesionScore + empathieScore) / 6;
      
      // Peut section
      const qualiteScore = getSelectedValue('qualite');
      const objectifsScore = getSelectedValue('objectifs');
      const problemesScore = getSelectedValue('problemes');
      const peutAvg = (qualiteScore + objectifsScore + problemesScore) / 3;
      
      // Capable section
      const adaptationScore = getSelectedValue('adaptation');
      const leadershipScore = getSelectedValue('leadership');
      const visionScore = getSelectedValue('vision');
      const capableAvg = (adaptationScore + leadershipScore + visionScore) / 3;
      
      // Obtenir le niveau et dÃ©partement de l'employÃ©
      const employeeLevel = document.getElementById('employee-level').value;
      const employeeDept = document.getElementById('employee-department').value;
      
      // RÃ©cupÃ©rer les poids adaptÃ©s au rÃ´le/dÃ©partement
      const roleWeights = {
        'junior': { veut: 0.4, peut: 0.35, capable: 0.25 },
        'intermediate': { veut: 0.35, peut: 0.4, capable: 0.25 },
        'senior': { veut: 0.3, peut: 0.4, capable: 0.3 },
        'lead': { veut: 0.3, peut: 0.35, capable: 0.35 },
        'manager': { veut: 0.35, peut: 0.3, capable: 0.35 },
        'director': { veut: 0.35, peut: 0.25, capable: 0.4 },
        'executive': { veut: 0.4, peut: 0.2, capable: 0.4 }
      };
      
      const departmentWeights = {
        'technology': { veut: 0.3, peut: 0.45, capable: 0.25 },
        'marketing': { veut: 0.35, peut: 0.4, capable: 0.25 },
        'sales': { veut: 0.45, peut: 0.4, capable: 0.15 },
        'finance': { veut: 0.3, peut: 0.5, capable: 0.2 },
        'hr': { veut: 0.4, peut: 0.3, capable: 0.3 },
        'operations': { veut: 0.25, peut: 0.45, capable: 0.3 },
        'customer-service': { veut: 0.4, peut: 0.4, capable: 0.2 },
        'r-and-d': { veut: 0.3, peut: 0.3, capable: 0.4 }
      };
      
      // Calculer les poids finaux (combinaison du rÃ´le et du dÃ©partement)
      const roleWeight = roleWeights[employeeLevel] || { veut: 0.33, peut: 0.33, capable: 0.34 };
      const deptWeight = departmentWeights[employeeDept] || { veut: 0.33, peut: 0.33, capable: 0.34 };
      
      const finalWeights = {
        veut: (roleWeight.veut + deptWeight.veut) / 2,
        peut: (roleWeight.peut + deptWeight.peut) / 2,
        capable: (roleWeight.capable + deptWeight.capable) / 2
      };
      
      // Normaliser les poids pour qu'ils totalisent 1
      const totalWeight = finalWeights.veut + finalWeights.peut + finalWeights.capable;
      finalWeights.veut = finalWeights.veut / totalWeight;
      finalWeights.peut = finalWeights.peut / totalWeight;
      finalWeights.capable = finalWeights.capable / totalWeight;
      
      // Calculer le score composite pondÃ©rÃ©
      const compositeScore = (veutAvg * finalWeights.veut) + (peutAvg * finalWeights.peut) + (capableAvg * finalWeights.capable);
      
      // Afficher les scores moyens
      document.getElementById('veut-avg').textContent = veutAvg.toFixed(1);
      document.getElementById('peut-avg').textContent = peutAvg.toFixed(1);
      document.getElementById('capable-avg').textContent = capableAvg.toFixed(1);
      document.getElementById('composite-score').textContent = compositeScore.toFixed(1);
      
      // Mettre Ã  jour les badges de score
      updateScoreBadge('veut-badge', veutAvg);
      updateScoreBadge('peut-badge', peutAvg);
      updateScoreBadge('capable-badge', capableAvg);
      
      // DÃ©terminer les interprÃ©tations
      document.getElementById('veut-interpretation').textContent = getInterpretation('veut', veutAvg);
      document.getElementById('peut-interpretation').textContent = getInterpretation('peut', peutAvg);
      document.getElementById('capable-interpretation').textContent = getInterpretation('capable', capableAvg);
      
      // InterprÃ©tations dÃ©taillÃ©es
      document.getElementById('veut-details').textContent = getDetailedInterpretation('veut', veutAvg, audaceScore, rigueurScore, impactScore, innovationScore, cohesionScore, empathieScore);
      document.getElementById('peut-details').textContent = getDetailedInterpretation('peut', peutAvg, qualiteScore, objectifsScore, problemesScore);
      document.getElementById('capable-details').textContent = getDetailedInterpretation('capable', capableAvg, adaptationScore, leadershipScore, visionScore);
      
      // DÃ©terminer le type de joueur
      const playerType = determinePlayerType(veutAvg, peutAvg, capableAvg);
      
      // Mise Ã  jour de l'interface avec le type de joueur
      document.getElementById('player-type').textContent = playerType;
      document.getElementById('classification-description').textContent = getPlayerTypeDescription(playerType);
      document.getElementById('player-type-rec').textContent = playerType;
      
      // Positionnement sur le quadrant
      positionOnQuadrant(playerType, peutAvg, capableAvg, veutAvg);
      
      // Mise Ã  jour de la recommandation
      document.getElementById('recommendation-text').textContent = getRecommendation(playerType, employeeLevel);
      
      // Mise Ã  jour des actions recommandÃ©es
      updateActionItems(playerType, veutAvg, peutAvg, capableAvg, employeeLevel, employeeDept);
      
      // Simuler des donnÃ©es de calibration comparatives
      updateCalibrationData(compositeScore, playerType, employeeLevel, employeeDept);
      
      // VÃ©rifier si une prÃ©cÃ©dente Ã©valuation est disponible
      if (document.getElementById('previous-evaluation').value === 'available') {
        // Ajouter un indicateur de progression
        addProgressionIndicator(compositeScore, 5.8); // Simuler un score prÃ©cÃ©dent de 5.8
      }
      
      // Montrer les rÃ©sultats avec animation
      document.getElementById('results').classList.remove('fade-in');
      void document.getElementById('results').offsetWidth; // Forcer un reflow
      document.getElementById('results').classList.add('fade-in');
      document.getElementById('results').style.display = 'block';
      
      // Scroller vers les rÃ©sultats
      document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
    }
    
    // Fonction pour simuler les donnÃ©es de calibration
    function updateCalibrationData(compositeScore, playerType, level, department) {
      // Calculer un rang percentile basÃ© sur le score composite (simulation)
      const deptPercentile = Math.round(compositeScore * 10);
      const globalPercentile = Math.round(compositeScore * 7 + Math.random() * 20);
      
      // Mettre Ã  jour l'interface
      document.getElementById('dept-percentile').innerHTML = `${deptPercentile}<sup>Ã¨me</sup>`;
      document.getElementById('global-percentile').innerHTML = `${globalPercentile}<sup>Ã¨me</sup>`;
      
      // DÃ©terminer la comparaison par niveau
      let levelCompText = "";
      if (compositeScore > 7) {
        levelCompText = `Au-dessus de la moyenne des ${level}s`;
      } else if (compositeScore > 5) {
        levelCompText = `LÃ©gÃ¨rement au-dessus de la moyenne des ${level}s`;
      } else if (compositeScore > 4) {
        levelCompText = `Dans la moyenne des ${level}s`;
      } else {
        levelCompText = `En dessous de la moyenne des ${level}s`;
      }
      document.getElementById('level-comparison').textContent = levelCompText;
      
      // Positionner le marqueur de calibration
      document.getElementById('calibration-marker').style.left = `${deptPercentile}%`;
    }
    
    // Fonction pour ajouter un indicateur de progression
    function addProgressionIndicator(currentScore, previousScore) {
      // Calculer la diffÃ©rence
      const difference = currentScore - previousScore;
      const percentChange = ((difference / previousScore) * 100).toFixed(1);
      
      // CrÃ©er l'indicateur de progression
      const progressDiv = document.createElement('div');
      progressDiv.style.marginTop = '20px';
      progressDiv.style.padding = '15px';
      progressDiv.style.borderRadius = '8px';
      
      // DÃ©terminer la couleur et le message en fonction de la progression
      if (difference > 0.5) {
        progressDiv.style.backgroundColor = '#d4edda';
        progressDiv.style.border = '1px solid #c3e6cb';
        progressDiv.style.color = '#155724';
        progressDiv.innerHTML = `
          <h3 style="margin-top: 0;">Progression significative (+${percentChange}%)</h3>
          <p>L'employÃ© montre une amÃ©lioration notable depuis la derniÃ¨re Ã©valuation (de ${previousScore.toFixed(1)} Ã  ${currentScore.toFixed(1)}).</p>
          <p><strong>Recommandation:</strong> ReconnaÃ®tre cette progression et encourager la poursuite de cette dynamique positive.</p>
        `;
      } else if (difference > 0) {
        progressDiv.style.backgroundColor = '#fff3cd';
        progressDiv.style.border = '1px solid #ffeeba';
        progressDiv.style.color = '#856404';
        progressDiv.innerHTML = `
          <h3 style="margin-top: 0;">LÃ©gÃ¨re progression (+${percentChange}%)</h3>
          <p>L'employÃ© montre une lÃ©gÃ¨re amÃ©lioration depuis la derniÃ¨re Ã©valuation (de ${previousScore.toFixed(1)} Ã  ${currentScore.toFixed(1)}).</p>
          <p><strong>Recommandation:</strong> Continuer Ã  soutenir l'employÃ© et identifier des opportunitÃ©s d'accÃ©lÃ©rer sa progression.</p>
        `;
      } else if (difference > -0.5) {
        progressDiv.style.backgroundColor = '#fff3cd';
        progressDiv.style.border = '1px solid #ffeeba';
        progressDiv.style.color = '#856404';
        progressDiv.innerHTML = `
          <h3 style="margin-top: 0;">Performance stable (${percentChange}%)</h3>
          <p>L'employÃ© maintient un niveau similaire Ã  la derniÃ¨re Ã©valuation (de ${previousScore.toFixed(1)} Ã  ${currentScore.toFixed(1)}).</p>
          <p><strong>Recommandation:</strong> Discuter des axes d'amÃ©lioration pour stimuler une nouvelle progression.</p>
        `;
      } else {
        progressDiv.style.backgroundColor = '#f8d7da';
        progressDiv.style.border = '1px solid #f5c6cb';
        progressDiv.style.color = '#721c24';
        progressDiv.innerHTML = `
          <h3 style="margin-top: 0;">RÃ©gression (${percentChange}%)</h3>
          <p>L'employÃ© montre une baisse de performance depuis la derniÃ¨re Ã©valuation (de ${previousScore.toFixed(1)} Ã  ${currentScore.toFixed(1)}).</p>
          <p><strong>Recommandation:</strong> Organiser rapidement un entretien pour comprendre les causes de cette rÃ©gression et mettre en place un plan d'action.</p>
        `;
      }
      
      // InsÃ©rer l'indicateur avant la section de recommandation
      const recommendations = document.querySelector('.recommendations');
      recommendations.parentNode.insertBefore(progressDiv, recommendations);
    }
    
    // Helper Functions
    
    function updateScoreBadge(elementId, score) {
      const badge = document.getElementById(elementId);
      badge.textContent = score.toFixed(1);
      
      // Update class based on score
      badge.classList.remove('score-low', 'score-medium', 'score-high');
      if (score >= 7) {
        badge.classList.add('score-high');
      } else if (score >= 4) {
        badge.classList.add('score-medium');
      } else {
        badge.classList.add('score-low');
      }
    }
    
    function getInterpretation(category, value) {
      if (category === 'veut') {
        if (value >= 8) return "TrÃ¨s fort alignement avec les valeurs";
        if (value >= 6) return "Bon alignement avec les valeurs";
        if (value >= 4) return "Alignement moyen avec les valeurs";
        return "Faible alignement avec les valeurs";
      }
      else if (category === 'peut') {
        if (value >= 8) return "Performance exceptionnelle";
        if (value >= 6) return "Bonne performance";
        if (value >= 4) return "Performance acceptable";
        return "Performance insuffisante";
      }
      else if (category === 'capable') {
        if (value >= 8) return "Potentiel de croissance trÃ¨s Ã©levÃ©";
        if (value >= 6) return "Bon potentiel de croissance";
        if (value >= 4) return "Potentiel de croissance moyen";
        return "Potentiel de croissance limitÃ©";
      }
      return "";
    }
    
    function getDetailedInterpretation(category, avgScore, score1, score2, score3, score4, score5, score6) {
      // Base interpretation from the average score
      let baseInterpretation = getInterpretation(category, avgScore);
      
      // Additional detailed feedback based on individual scores
      let details = "";
      
      if (category === 'veut') {
        // Audace (score1)
        if (score1 > avgScore + 2) {
          details += " Excellente capacitÃ© Ã  relever les dÃ©fis avec enthousiasme.";
        } else if (score1 < avgScore - 2) {
          details += " Pourrait montrer plus d'audace face aux dÃ©fis.";
        }
        
        // Rigueur (score2)
        if (score2 > avgScore + 2) {
          details += " Excellente rigueur dans le travail.";
        } else if (score2 < avgScore - 2) {
          details += " La rigueur est un axe d'amÃ©lioration.";
        }
        
        // Impact (score3)
        if (score3 > avgScore + 2) {
          details += " CrÃ©e un impact positif remarquable.";
        } else if (score3 < avgScore - 2) {
          details += " Pourrait renforcer l'impact de ses contributions.";
        }
        
        // Innovation (score4)
        if (score4 > avgScore + 2) {
          details += " Recherche constante d'excellence et d'innovation.";
        } else if (score4 < avgScore - 2) {
          details += " Besoin de dÃ©velopper l'initiative d'innovation.";
        }
        
        // CohÃ©sion (score5)
        if (score5 > avgScore + 2) {
          details += " Excellente contribution Ã  la cohÃ©sion d'Ã©quipe.";
        } else if (score5 < avgScore - 2) {
          details += " Pourrait mieux contribuer Ã  la cohÃ©sion d'Ã©quipe.";
        }
        
        // Empathie (score6)
        if (score6 > avgScore + 2) {
          details += " Fait preuve d'une empathie remarquable.";
        } else if (score6 < avgScore - 2) {
          details += " L'empathie est un axe de dÃ©veloppement Ã  privilÃ©gier.";
        }
      }
      else if (category === 'peut') {
        if (score1 > avgScore + 2) {
          details += " QualitÃ© de travail exemplaire.";
        } else if (score1 < avgScore - 2) {
          details += " La qualitÃ© du travail pourrait Ãªtre amÃ©liorÃ©e.";
        }
        
        if (score2 > avgScore + 2) {
          details += " Atteint constamment ses objectifs.";
        } else if (score2 < avgScore - 2) {
          details += " L'atteinte des objectifs est Ã  renforcer.";
        }
        
        if (score3 > avgScore + 2) {
          details += " Excellente capacitÃ© Ã  rÃ©soudre les problÃ¨mes.";
        } else if (score3 < avgScore - 2) {
          details += " La rÃ©solution de problÃ¨mes est un axe de progression.";
        }
      }
      else if (category === 'capable') {
        if (score1 > avgScore + 2) {
          details += " CapacitÃ© d'adaptation remarquable.";
        } else if (score1 < avgScore - 2) {
          details += " La capacitÃ© d'apprentissage pourrait Ãªtre dÃ©veloppÃ©e.";
        }
        
        if (score2 > avgScore + 2) {
          details += " Fort potentiel de leadership.";
        } else if (score2 < avgScore - 2) {
          details += " Les compÃ©tences de leadership sont Ã  dÃ©velopper.";
        }
        
        if (score3 > avgScore + 2) {
          details += " Vision stratÃ©gique exceptionnelle.";
        } else if (score3 < avgScore - 2) {
          details += " La vision stratÃ©gique pourrait Ãªtre Ã©largie.";
        }
      }
      
      // If no specific details were added, provide a generic interpretation
      if (details === "") {
        if (category === 'veut') {
          return `${baseInterpretation}. DÃ©montre un niveau Ã©quilibrÃ© sur l'ensemble des valeurs de l'entreprise.`;
        } else if (category === 'peut') {
          return `${baseInterpretation}. Maintient un niveau cohÃ©rent de qualitÃ©, d'atteinte des objectifs et de rÃ©solution de problÃ¨mes.`;
        } else {
          return `${baseInterpretation}. Montre un Ã©quilibre entre capacitÃ© d'adaptation, leadership et vision stratÃ©gique.`;
        }
      }
      
      return `${baseInterpretation}.${details}`;
    }
    
    function determinePlayerType(veut, peut, capable) {
      // SystÃ¨me de pondÃ©ration avancÃ© basÃ© sur les rÃ´les
      const roleWeights = {
        'junior': { veut: 0.4, peut: 0.35, capable: 0.25 },
        'intermediate': { veut: 0.35, peut: 0.4, capable: 0.25 },
        'senior': { veut: 0.3, peut: 0.4, capable: 0.3 },
        'lead': { veut: 0.3, peut: 0.35, capable: 0.35 },
        'manager': { veut: 0.35, peut: 0.3, capable: 0.35 },
        'director': { veut: 0.35, peut: 0.25, capable: 0.4 },
        'executive': { veut: 0.4, peut: 0.2, capable: 0.4 }
      };
      
      const departmentWeights = {
        'technology': { veut: 0.3, peut: 0.45, capable: 0.25 },
        'marketing': { veut: 0.35, peut: 0.4, capable: 0.25 },
        'sales': { veut: 0.45, peut: 0.4, capable: 0.15 },
        'finance': { veut: 0.3, peut: 0.5, capable: 0.2 },
        'hr': { veut: 0.4, peut: 0.3, capable: 0.3 },
        'operations': { veut: 0.25, peut: 0.45, capable: 0.3 },
        'customer-service': { veut: 0.4, peut: 0.4, capable: 0.2 },
        'r-and-d': { veut: 0.3, peut: 0.3, capable: 0.4 }
      };
      
      // RÃ©cupÃ©rer le niveau et dÃ©partement sÃ©lectionnÃ©s
      const employeeLevel = document.getElementById('employee-level').value;
      const employeeDept = document.getElementById('employee-department').value;
      
      // Calculer les poids finaux (combinaison du rÃ´le et du dÃ©partement)
      const roleWeight = roleWeights[employeeLevel] || { veut: 0.33, peut: 0.33, capable: 0.34 };
      const deptWeight = departmentWeights[employeeDept] || { veut: 0.33, peut: 0.33, capable: 0.34 };
      
      const finalWeights = {
        veut: (roleWeight.veut + deptWeight.veut) / 2,
        peut: (roleWeight.peut + deptWeight.peut) / 2,
        capable: (roleWeight.capable + deptWeight.capable) / 2
      };
      
      // Normaliser les poids pour qu'ils totalisent 1
      const totalWeight = finalWeights.veut + finalWeights.peut + finalWeights.capable;
      finalWeights.veut = finalWeights.veut / totalWeight;
      finalWeights.peut = finalWeights.peut / totalWeight;
      finalWeights.capable = finalWeights.capable / totalWeight;
      
      // Calculer le score composite pondÃ©rÃ©
      const compositeScore = (veut * finalWeights.veut) + (peut * finalWeights.peut) + (capable * finalWeights.capable);
      
      // VÃ©rifier l'alignement des valeurs (critÃ¨re Ã©liminatoire)
      if (veut < 4) {
        return "D"; // DÃ©salignement fondamental avec les valeurs
      }
      
      // DÃ©terminer la classification de base selon le score composite
      let classification;
      if (compositeScore >= 8.5) {
        classification = "A+";
      } else if (compositeScore >= 7.5) {
        classification = "A";
      } else if (compositeScore >= 6.5) {
        classification = "B+";
      } else if (compositeScore >= 5.0) {
        classification = "B";
      } else if (compositeScore >= 4.0) {
        classification = "C";
      } else {
        classification = "D";
      }
      
      // Appliquer des rÃ¨gles d'ajustement spÃ©cifiques
      
      // RÃ¨gle du leadership exceptionnel
      if (capable >= 8.5 && veut >= 7 && peut >= 6.5) {
        classification = classification === "B+" ? "A" : classification;
      }
      
      // RÃ¨gle de la performance exceptionnelle
      if (peut >= 8.5 && veut >= 6.5) {
        classification = classification === "B+" ? "A" : classification;
        classification = classification === "B" ? "B+" : classification;
      }
      
      // RÃ¨gle du potentiel inexploitÃ©
      if (capable >= 8 && peut < 6) {
        classification = classification === "C" ? "B" : classification;
      }
      
      // RÃ¨gle de la performance insuffisante
      if (peut < 4.5 && classification !== "D") {
        classification = classification === "A" ? "B+" : classification;
        classification = classification === "B+" ? "B" : classification;
        classification = classification === "B" ? "C" : classification;
      }
      
      // RÃ¨gle de dÃ©tection des talents Ã©mergents (pour juniors et intermÃ©diaires)
      if ((employeeLevel === 'junior' || employeeLevel === 'intermediate') && 
          capable >= 7.5 && veut >= 7.5 && peut >= 6) {
        classification = classification === "B+" ? "A" : classification;
        classification = classification === "B" ? "B+" : classification;
      }
      
      // VÃ©rifier l'Ã©quilibre entre dimensions (rÃ¨gle de cohÃ©rence)
      const maxDifference = Math.max(
        Math.abs(veut - peut), 
        Math.abs(veut - capable), 
        Math.abs(peut - capable)
      );
      
      if (maxDifference > 3 && classification !== "D") {
        // Appliquer une pÃ©nalitÃ© pour dÃ©sÃ©quilibre majeur
        if (classification === "A+") classification = "A";
        else if (classification === "A") classification = "B+";
        else if (classification === "B+") classification = "B";
      }
      
      return classification;
    }
    
    function getPlayerTypeDescription(type) {
      switch(type) {
        case "A+": return "Talent exceptionnel";
        case "A": return "Talent de grande valeur";
        case "B+": return "Talent prometteur";
        case "B": return "Talent solide";
        case "C": return "Talent Ã  accompagner";
        case "D": return "DÃ©salignement important";
        default: return "";
      }
    }
    
    function positionOnQuadrant(playerType, peutAvg, capableAvg, veutAvg) {
      const marker = document.getElementById('position-marker');
      
      // Special case for D type
      if (playerType === "D") {
        marker.style.left = "20%";
        marker.style.top = "80%";
        marker.style.backgroundColor = "#721c24";
        return;
      }
      
      // Calculate position
      // X-axis: Performance (Peut)
      // Y-axis: weighted combination of Veut and Capable, with greater emphasis on Capable
      const xPos = (peutAvg / 10) * 100;
      const yPos = 100 - ((veutAvg * 0.4 + capableAvg * 0.6) / 10) * 100;
      
      // Apply position
      marker.style.left = xPos + "%";
      marker.style.top = yPos + "%";
      
      // Set marker color based on player type
      const colors = {
        "A+": "#1e7e34",
        "A": "#28a745",
        "B+": "#ffc107",
        "B": "#fd7e14",
        "C": "#dc3545"
      };
      
      marker.style.backgroundColor = colors[playerType] || "#721c24";
    }
    
    function getRecommendation(type) {
      switch(type) {
        case "A+":
          return "Talent exceptionnel Ã  retenir absolument. Offrir des dÃ©fis Ã  la hauteur de son potentiel, des opportunitÃ©s d'Ã©volution rapide et un parcours personnalisÃ© vers les postes stratÃ©giques. Impliquer cette personne dans les projets d'innovation et de transformation.";
        case "A":
          return "Excellent Ã©lÃ©ment Ã  dÃ©velopper et fidÃ©liser. Proposer des responsabilitÃ©s croissantes, un parcours de dÃ©veloppement personnalisÃ© et des opportunitÃ©s de mentorat. Envisager comme successeur potentiel pour des postes clÃ©s Ã  moyen terme.";
        case "B+":
          return "Bon potentiel Ã  accompagner. Mettre en place un plan de dÃ©veloppement ciblÃ© pour amÃ©liorer la performance et l'alignement avec les valeurs de l'entreprise. DÃ©finir des objectifs de progression clairs et offrir les formations nÃ©cessaires.";
        case "B":
          return "Collaborateur fiable. Clarifier les attentes, proposer des formations pour renforcer ses compÃ©tences et l'accompagner dans la comprÃ©hension des valeurs de l'entreprise. Assigner des projets adaptÃ©s Ã  ses forces actuelles tout en l'aidant Ã  dÃ©velopper ses points d'amÃ©lioration.";
        case "C":
          return "Performance insuffisante nÃ©cessitant un suivi rapprochÃ©. Ã‰tablir un plan d'action avec des objectifs prÃ©cis Ã  court terme, des points d'Ã©tape frÃ©quents et un accompagnement intensif. RÃ©Ã©valuer le fit avec le poste actuel dans un dÃ©lai de 3 Ã  6 mois.";
        case "D":
          return "EmployÃ© en dÃ©salignement significatif avec les valeurs fondamentales de l'entreprise. Un plan de transition devrait Ãªtre envisagÃ© car le manque d'alignement avec les valeurs crÃ©e un effet dÃ©tracteur dans l'organisation et limite fortement les possibilitÃ©s d'Ã©volution.";
        default:
          return "";
      }
    }
    
    function updateActionItems(playerType, veutAvg, peutAvg, capableAvg) {
      // Define action items based on player type and scores
              const actionItems = [];
      
      // Common action for all (always at least one action)
      actionItems.push({
        icon: "",
        title: "Entretien de feedback",
        description: "Organiser un entretien dÃ©taillÃ© pour partager les rÃ©sultats de cette Ã©valuation."
      });
      
      // Type-specific actions
      if (playerType === "A+" || playerType === "A") {
        actionItems.push({
          icon: "",
          title: "OpportunitÃ©s stratÃ©giques",
          description: "Impliquer dans des projets stratÃ©giques et de transformation."
        });
        
        actionItems.push({
          icon: "",
          title: "Programme de fidÃ©lisation",
          description: "Ã‰tablir un plan de dÃ©veloppement carriÃ¨re personnalisÃ© incluant des avantages adaptÃ©s."
        });
      }
      
      if (playerType === "B+" || playerType === "B") {
        actionItems.push({
          icon: "",
          title: "Plan de formation",
          description: "Identifier les compÃ©tences clÃ©s Ã  dÃ©velopper et proposer des formations adaptÃ©es."
        });
      }
      
      if (playerType === "C") {
        actionItems.push({
          icon: "",
          title: "Plan de progression",
          description: "DÃ©finir des objectifs SMART Ã  court terme avec suivi hebdomadaire."
        });
      }
      
      if (playerType === "D") {
        actionItems.push({
          icon: "",
          title: "RÃ©orientation",
          description: "Ã‰valuer les options de rÃ©affectation ou d'accompagnement vers une transition externe."
        });
      }
      
      // Dimension-specific actions
      if (veutAvg < 5) {
        actionItems.push({
          icon: "",
          title: "Renforcement de l'alignement",
          description: "Sessions d'appropriation des valeurs et de la culture d'entreprise."
        });
      }
      
      if (peutAvg < 5) {
        actionItems.push({
          icon: "",
          title: "AmÃ©lioration de la performance",
          description: "Coaching personnalisÃ© sur les compÃ©tences techniques et opÃ©rationnelles."
        });
      }
      
      if (capableAvg >= 7 && (peutAvg < 7 || veutAvg < 7)) {
        actionItems.push({
          icon: "",
          title: "LibÃ©ration du potentiel",
          description: "Assigner des projets stimulants pour mobiliser pleinement le potentiel identifiÃ©."
        });
      }
      
      // Render action items (limit to 4 maximum)
      const actionItemsHTML = actionItems.slice(0, 4).map(item => `
        <div class="action-item">
          <div class="action-icon">
          </div>
          <div class="action-content">
            <div class="action-title">${item.title}</div>
            <div class="action-description">${item.description}</div>
          </div>
        </div>
      `).join('');
      
      document.getElementById('action-items-container').innerHTML = actionItemsHTML;
    }
  </script>
</body>
</html>
